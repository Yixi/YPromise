/*! YPromise 0.1.0 - 2014-03-04 
 @Author Yixi 
 https://github.com/Yixi/YPromise */
"use strict";(function(){var n=function(n,t){function e(){var n=arguments,e=o._thens.shift();e&&(n=e.comp.apply(t,n),n&&(n._thens=o._thens))}function r(){var n=arguments,e=o._thens.shift();e&&e.err&&(n=e.err.apply(t,n),n&&(n._thens=o._thens))}function u(){var n=o._thens[0];n&&n.prog&&n.prog.apply(t,arguments)}var o=this;this._thens=[],setTimeout(function(){n.call(t,e,r,u)},0)},t=function(n){return n instanceof Array};n.prototype.then=function(n,t,e){return n instanceof Function&&this._thens.push({comp:n,err:t,prog:e}),this},n.prototype.done=function(n){return n instanceof Function&&this._thens.push({comp:n}),null},n.prototype.cancel=function(n){this._thens.length=0,n instanceof Function&&n()},n.join=function(){var e,r=!1;1==arguments.length&&t(arguments[0])?(e=arguments[0],r=!0):e=arguments;var u=e.length,o=0,i=[];return new n(function(n,t,s){for(var a=0;u>a;a++)(function(a){(r?e[a]():e[a]).then(function(){i[a]=1>=arguments.length?arguments[0]:arguments,o++,s(o),o==u&&n.apply(this,i)},function(){var n=Array.prototype.slice.call(arguments);n.push("error in function "+a),t.apply(this,n)})})(a)})},n.queue=function(t,e){return e?new n(function(n,e,r){function u(e){t[e]().then(function(){s[e]=1>=arguments.length?arguments[0]:arguments,i++,r(i),i==o?n.apply(this,s):u(i)},function(){s[e]="error in function "+e,i++,i==o?n.apply(this,s):u(i)})}var o=t.length,i=0,s=[];u(0)}):n.join(t)},n.any=function(){var t=arguments,e=t.length,r=!1;return new n(function(n){for(var u=0;e>u;u++)t[u].then(function(){r||(r=!0,n.apply(this,arguments))})})},n.as=function(t){return new n(function(n){n(t)})},window.YPro=window.YPromise=n})();
//@ sourceMappingURL=YPromise-0.1.0.min.map